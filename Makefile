CC=gcc
DEPS = exploits.h kerninfo.h print.h
CFLAGS = -Wall -Wextra -m64 -fPIC

all:
	rm -rf ./linux-kernel-exploits
	git clone https://github.com/SecWiki/linux-kernel-exploits
	python generate_exploit_file.py

%.o: %.c $(DEPS)
	$(CC) -c -o $@ $< $(CFLAGS)

suggester: exploits.o kerninfo.o print.o main.o
	$(CC) -o suggester exploits.o kerninfo.o main.o print.o $(CFLAGS)
